<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ConfidentialPayroll v2 — Live Demo</title>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700&family=Varela+Round&display=swap" rel="stylesheet">
  <style>
    :root {
      --ink: #171717;
      --ink-soft: #4a4a4a;
      --bg: #f5f5ef;
      --panel: #ffffff;
      --line: #dbdbd2;
      --sun: #f5d548;
      --sun-strong: #efcb26;
      --cream: #fcfcf8;
      --green: #2f9e7e;
      --green-soft: #eaf7f1;
      --red-soft: #fff1ef;
      --shadow: 0 16px 40px rgba(23, 23, 23, 0.08);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Archivo", sans-serif;
      color: var(--ink);
      background: linear-gradient(180deg, #fcfcf9 0%, var(--bg) 100%);
      line-height: 1.5;
    }

    .container {
      width: min(1220px, 92vw);
      margin: 0 auto;
    }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      border-bottom: 1px solid var(--line);
      background: rgba(252, 252, 249, 0.95);
      backdrop-filter: blur(8px);
    }

    .topbar-inner {
      height: 74px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.2px;
    }

    .mark {
      width: 26px;
      height: 26px;
      display: grid;
      place-items: center;
      background: var(--ink);
      color: var(--sun);
      border-radius: 7px;
      font-weight: 700;
      font-size: 13px;
    }

    .nav-center {
      display: flex;
      align-items: center;
      gap: 26px;
      margin-left: auto;
      margin-right: auto;
    }

    .nav-link {
      text-decoration: none;
      color: var(--ink);
      font-size: 14px;
      font-weight: 500;
      padding: 6px 0;
      border-bottom: 1px solid transparent;
      transition: border-color 0.2s ease, opacity 0.2s ease;
      opacity: 0.86;
    }

    .nav-link:hover {
      opacity: 1;
      border-color: rgba(23, 23, 23, 0.28);
    }

    .nav-badge,
    .nav-cta {
      font-family: "Varela Round", sans-serif;
      font-size: 12px;
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 6px 12px;
      color: var(--ink-soft);
      background: var(--panel);
    }

    .nav-cta-wrap {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-cta-square {
      width: 14px;
      height: 14px;
      border-radius: 2px;
      background: var(--ink);
    }

    .nav-cta {
      text-decoration: none;
      color: var(--ink);
      font-weight: 600;
      border-radius: 4px;
      border: 1px solid rgba(23, 23, 23, 0.2);
      background: var(--sun);
      padding: 8px 13px;
    }

    .hero {
      padding: 64px 0 50px;
      border-bottom: 1px solid var(--line);
      background:
        radial-gradient(1200px 300px at 10% -20%, rgba(245, 213, 72, 0.35) 0%, rgba(245, 213, 72, 0) 65%),
        linear-gradient(180deg, var(--cream) 0%, #f8f8f2 100%);
    }

    .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(23, 23, 23, 0.16);
      background: rgba(255, 255, 255, 0.9);
      font-size: 12px;
      font-family: "Varela Round", sans-serif;
      margin-bottom: 16px;
    }

    .eyebrow-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--green);
      animation: pulse 1.2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.45; transform: scale(0.85); }
    }

    h1 {
      font-size: clamp(34px, 6vw, 66px);
      line-height: 1.02;
      max-width: 860px;
      letter-spacing: -1.1px;
      margin-bottom: 14px;
    }

    .hero p {
      max-width: 760px;
      color: var(--ink-soft);
      font-size: 18px;
      margin-bottom: 28px;
    }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .btn-wrap {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-square {
      width: 14px;
      height: 14px;
      border-radius: 2px;
      background: var(--ink);
      flex: 0 0 auto;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      min-height: 46px;
      padding: 10px 18px;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 600;
      transition: transform 0.15s ease, box-shadow 0.2s ease;
      border: 1px solid rgba(23, 23, 23, 0.18);
    }

    .btn:hover { transform: translateY(-1px); }

    .btn-primary {
      background: var(--ink);
      color: #fff;
      box-shadow: 0 10px 24px rgba(23, 23, 23, 0.22);
    }

    .btn-secondary {
      background: var(--sun);
      color: var(--ink);
      border: 1px solid rgba(23, 23, 23, 0.12);
      box-shadow: 0 10px 24px rgba(245, 213, 72, 0.28);
    }

    .metrics {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 12px;
      margin-top: 30px;
    }

    .metric {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 14px 14px;
      box-shadow: var(--shadow);
    }

    .metric .label {
      font-size: 12px;
      color: var(--ink-soft);
      margin-bottom: 3px;
    }

    .metric .value {
      font-size: 22px;
      font-weight: 700;
      letter-spacing: -0.3px;
    }

    .section {
      padding: 50px 0;
    }

    .section-title {
      font-size: clamp(24px, 4.2vw, 38px);
      letter-spacing: -0.5px;
      margin-bottom: 8px;
    }

    .section-sub {
      color: var(--ink-soft);
      max-width: 720px;
      margin-bottom: 22px;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }

    .card {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 18px;
      box-shadow: var(--shadow);
      animation: rise 0.5s ease both;
    }

    .card:nth-child(2) { animation-delay: 0.08s; }
    .card:nth-child(3) { animation-delay: 0.16s; }

    @keyframes rise {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .card .kicker {
      font-size: 11px;
      font-family: "Varela Round", sans-serif;
      color: var(--ink-soft);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 9px;
    }

    .card h3 {
      font-size: 21px;
      margin-bottom: 7px;
      line-height: 1.15;
      letter-spacing: -0.3px;
    }

    .card p {
      color: var(--ink-soft);
      font-size: 15px;
    }

    .live {
      background: var(--ink);
      color: #f6f6f6;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid #272727;
      box-shadow: 0 20px 50px rgba(23, 23, 23, 0.35);
    }

    .live-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 13px 16px;
      border-bottom: 1px solid #2a2a2a;
      background: #121212;
    }

    .live-title {
      font-family: "Varela Round", sans-serif;
      font-size: 12px;
      color: #d8d8d8;
      letter-spacing: 0.8px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 7px;
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      color: #efefef;
    }

    .pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #7ef5ca;
      box-shadow: 0 0 10px rgba(126, 245, 202, 0.6);
    }

    .live-grid {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 0;
    }

    .logs {
      padding: 14px 16px 16px;
      border-right: 1px solid #2a2a2a;
      min-height: 310px;
      max-height: 360px;
      overflow: auto;
      font-family: "Varela Round", sans-serif;
      font-size: 13px;
    }

    .log {
      display: grid;
      grid-template-columns: 90px 1fr;
      gap: 10px;
      padding: 8px 0;
      border-bottom: 1px dashed #2f2f2f;
    }

    .time {
      color: #9f9f9f;
    }

    .text {
      color: #ececec;
    }

    .text strong { color: #ffe784; }

    .side {
      padding: 16px;
      display: grid;
      gap: 10px;
      align-content: start;
      background: #141414;
    }

    .side-box {
      border: 1px solid #2a2a2a;
      border-radius: 12px;
      padding: 12px;
      background: #171717;
    }

    .side-box .h {
      font-size: 11px;
      color: #bdbdbd;
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }

    .side-box .v {
      font-size: 21px;
      font-weight: 700;
      letter-spacing: -0.2px;
    }

    .v.good { color: #7ef5ca; }
    .v.warn { color: #ffe784; }

    .proofs {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px;
      margin-top: 14px;
    }

    .proof {
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 16px;
      background: var(--panel);
      box-shadow: var(--shadow);
    }

    .proof.ok { background: var(--green-soft); }
    .proof.pending { background: #fff8d7; }

    .proof .state {
      display: inline-block;
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      margin-bottom: 8px;
      border: 1px solid rgba(23, 23, 23, 0.15);
      background: rgba(255, 255, 255, 0.72);
      font-family: "Varela Round", sans-serif;
    }

    .proof h4 {
      font-size: 20px;
      margin-bottom: 6px;
      letter-spacing: -0.2px;
    }

    .proof p {
      color: var(--ink-soft);
      font-size: 14px;
    }

    .footer {
      border-top: 1px solid var(--line);
      background: #fafaf5;
      padding: 24px 0 34px;
      margin-top: 46px;
    }

    .foot {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .foot small {
      color: var(--ink-soft);
      font-size: 13px;
    }

    .foot a {
      color: var(--ink);
      text-decoration: none;
      border-bottom: 1px solid rgba(23, 23, 23, 0.2);
    }

    .foot a:hover {
      border-color: var(--ink);
    }

    @media (max-width: 980px) {
      .nav-center { display: none; }
      .metrics { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .cards { grid-template-columns: 1fr; }
      .live-grid { grid-template-columns: 1fr; }
      .logs { border-right: 0; border-bottom: 1px solid #2a2a2a; }
      .proofs { grid-template-columns: 1fr; }
    }

    @media (max-width: 560px) {
      .topbar-inner { height: 64px; }
      .hero { padding-top: 44px; }
      .hero p { font-size: 16px; }
      .metrics { grid-template-columns: 1fr; }
      .actions { flex-direction: column; }
      .btn-wrap { width: 100%; }
      .btn { width: 100%; }
      .nav-badge { display: none; }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="container topbar-inner">
      <div class="brand">
        <span class="mark">CP</span>
        <span>ConfidentialPayroll v2</span>
      </div>
      <nav class="nav-center" aria-label="Primary">
        <a class="nav-link" href="#">Protocol</a>
        <a class="nav-link" href="#">Developer</a>
        <a class="nav-link" href="#">Community</a>
      </nav>
      <span class="nav-badge">Built on Zama fhEVM</span>
      <div class="nav-cta-wrap">
        <span class="nav-cta-square" aria-hidden="true"></span>
        <a class="nav-cta" href="https://github.com/X-PACT/confidential-payroll" target="_blank" rel="noreferrer">Project Repo</a>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <span class="eyebrow"><span class="eyebrow-dot"></span> LIVE PROTOCOL DEMO</span>
      <h1>Confidential payroll with <br>verifiable proofs, built for Zama.</h1>
      <p>
        Same privacy-first direction as Zama visual language, adapted to the
        ConfidentialPayroll v2 product surface: encrypted salaries, branchless tax, ERC-7984 payouts,
        and soulbound payslip verification.
      </p>
      <div class="actions">
        <span class="btn-wrap">
          <span class="btn-square" aria-hidden="true"></span>
          <a class="btn btn-secondary" href="https://x-pact.github.io/confidential-payroll/" target="_blank" rel="noreferrer">Open Live Frontend</a>
        </span>
        <span class="btn-wrap">
          <span class="btn-square" aria-hidden="true"></span>
          <a class="btn btn-primary" href="https://github.com/X-PACT/confidential-payroll" target="_blank" rel="noreferrer">Open Repository</a>
        </span>
      </div>

      <div class="metrics">
        <div class="metric">
          <div class="label">Active Employees</div>
          <div class="value" id="mEmployees">128</div>
        </div>
        <div class="metric">
          <div class="label">Batch Size</div>
          <div class="value">10 / tx</div>
        </div>
        <div class="metric">
          <div class="label">Proof Privacy</div>
          <div class="value">Exact Salary Hidden</div>
        </div>
        <div class="metric">
          <div class="label">Chain</div>
          <div class="value">Sepolia (11155111)</div>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <h2 class="section-title">Core Product Surface</h2>
      <p class="section-sub">Visual structure follows Zama-like clarity: clean panels, strong contrast, yellow highlights, and confidence-first information hierarchy.</p>
      <div class="cards">
        <article class="card">
          <div class="kicker">Payroll Engine</div>
          <h3>Branchless Tax on Encrypted Data</h3>
          <p>Salary, bonuses, and deductions stay encrypted. Tax logic runs with <code>TFHE.min</code>, <code>TFHE.select</code>, and <code>TFHE.shr</code> only.</p>
        </article>
        <article class="card">
          <div class="kicker">Payments</div>
          <h3>ERC-7984 Confidential Token Minting</h3>
          <p>Each payroll run mints encrypted compensation to employees without exposing plaintext values on-chain.</p>
        </article>
        <article class="card">
          <div class="kicker">Verification</div>
          <h3>Soulbound Payslip & Equity Proofs</h3>
          <p>Boolean proofs are decrypted via gateway, while salary values remain private for everyone except the employee.</p>
        </article>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <h2 class="section-title">Live Payroll Console</h2>
      <p class="section-sub">Real-time style simulation for submission storytelling. Events rotate continuously to present a live operational surface.</p>
      <div class="live">
        <div class="live-head">
          <div class="live-title">CONFIDENTIAL_PAYROLL_RUNTIME — ZAMA SEPOLIA</div>
          <span class="pill"><span class="pill-dot"></span> Gateway Connected</span>
        </div>
        <div class="live-grid">
          <div class="logs" id="logList"></div>
          <aside class="side">
            <div class="side-box">
              <div class="h">Current Run ID</div>
              <div class="v" id="runId">42</div>
            </div>
            <div class="side-box">
              <div class="h">Minted This Run</div>
              <div class="v good" id="paidCount">8</div>
            </div>
            <div class="side-box">
              <div class="h">Proof Requests</div>
              <div class="v warn" id="proofCount">3</div>
            </div>
            <div class="side-box">
              <div class="h">ACL Status</div>
              <div class="v good">Strict / Active</div>
            </div>
          </aside>
        </div>
      </div>

      <div class="proofs">
        <article class="proof ok">
          <span class="state">Verified</span>
          <h4>Payslip Range Proof</h4>
          <p>Employee proved monthly salary is in the bank-required range without exposing exact salary.</p>
        </article>
        <article class="proof pending">
          <span class="state">Pending Gateway</span>
          <h4>Equity Certificate</h4>
          <p>Department-level median comparison is queued for boolean decryption callback.</p>
        </article>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container foot">
      <small>ConfidentialPayroll v2 — Demo surface aligned with Zama visual direction.</small>
      <small>
        <a href="https://github.com/X-PACT/confidential-payroll" target="_blank" rel="noreferrer">GitHub</a>
        ·
        <a href="https://docs.zama.ai" target="_blank" rel="noreferrer">Zama Docs</a>
      </small>
    </div>
  </footer>

  <script>
    const logList = document.getElementById("logList");
    const runIdEl = document.getElementById("runId");
    const paidCountEl = document.getElementById("paidCount");
    const proofCountEl = document.getElementById("proofCount");
    const employeeMetric = document.getElementById("mEmployees");

    const events = [
      "Payroll manager started <strong>batchRunPayroll</strong> for indexes [0..10)",
      "Computed encrypted gross pay using <strong>TFHE.add</strong>",
      "Applied progressive tax with <strong>TFHE.min/select/shr</strong>",
      "Minted ERC-7984 confidential payment to employee wallet",
      "Issued request to gateway for payslip boolean decryption",
      "Stored audit hash for current run and emitted PayrollRunStarted",
      "Authorized salary handle ACL for payslip verifier contract",
      "Equity oracle request submitted: ABOVE_DEPARTMENT_MEDIAN",
    ];

    function now() {
      return new Date().toLocaleTimeString("en-US", { hour12: false });
    }

    function pushLog(text) {
      const item = document.createElement("div");
      item.className = "log";
      item.innerHTML = `<span class="time">${now()}</span><span class="text">${text}</span>`;
      logList.prepend(item);

      while (logList.children.length > 16) {
        logList.removeChild(logList.lastChild);
      }
    }

    function bumpNumbers() {
      const runId = Number(runIdEl.textContent);
      const paid = Number(paidCountEl.textContent);
      const proofs = Number(proofCountEl.textContent);
      const employees = Number(employeeMetric.textContent);

      if (Math.random() > 0.72) runIdEl.textContent = String(runId + 1);
      paidCountEl.textContent = String((paid % 10) + 1);
      proofCountEl.textContent = String(((proofs + 1) % 5) + 1);
      employeeMetric.textContent = String(Math.max(64, employees + (Math.random() > 0.5 ? 1 : -1)));
    }

    for (let i = 0; i < 7; i++) {
      pushLog(events[i]);
    }

    setInterval(() => {
      const pick = events[Math.floor(Math.random() * events.length)];
      pushLog(pick);
      bumpNumbers();
    }, 1700);
  </script>
</body>
</html>
